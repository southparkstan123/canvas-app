<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
        crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
        crossorigin="anonymous">

</head>

<body>
    <div id="canvas-container">
        <canvas id="canvas-real" class="canvas" width='1366px' height='768px'></canvas>
        <canvas id="canvas-draft" class="canvas" width='1366px' height='768px'></canvas>
    </div>
    <div class="buttons">
        <span class="btn btn-primary fa fa-square" id="drawing-rectangle">Drawing Rectangle</span>
        <span class="btn btn-info fa fa-paint-brush" id="drawing-line">Drawing Line</span>
        <span class="btn btn-info fa fa-paint-brush" id="drawing-ellipse">Drawing Ellipse</span>
        <span class="btn btn-danger fa fa-paint-brush" id="drawing-strokerectangle">Drawing StrokeRectangle</span>
        <span class="btn btn-danger fa fa-paint-brush" id="drawing-straight-line">Drawing Straight Line</span>
        <span class="btn btn-danger fa fa-paint-brush" id="eraser">Eraser</span>
        <span class="btn btn-danger fa fa-font" id="text-tool">Text Tool</span>
        <span class="btn btn-danger fa fa-paint-brush" id="clear">Clear</span>
        <span><input type='text' id="colorpicker" /></span>

    </div>
    <div id="text-panel">
        <form id="add-text">
            <label for="text">Text:</label>
            <input type="text" name="text" id="text">
            <label for="size">Size:</label>
            <select id = "size" name="size">
                <option value = "9" selected>9px</option>
                <option value = "12">12px</option>
                <option value = "14">14px</option>
                <option value = "16">16px</option>
                <option value = "20">20px</option>
                <option value = "48">48px</option>
                <option value = "72">72px</option>
                <option value = "96">96px</option>
                <option value = "144">144px</option>
                <option value = "200">200px</option>
            </select>
            <label for="fillOrStroke">Fill Or Stroke:</label>
            <select id = "fillOrStroke" name="fillOrStroke">
                <option value = "fill" selected>fill</option>
                <option value = "stroke">stroke</option>
            </select>
            <label for="font-family">Font Family:</label>
            <select id ="font-family" name="fontFamily">
                <option value = "Arial" selected>Arial</option>
                <option value = "Times New Roman">Times New Roman</option>
            </select>
            <label for="style">Style:</label>
            <select id ="style" name="style">
                <option value = "normal" selected>Normal</option>
                <option value = "bold">Bold</option>
                <option value = "italic">Italic</option>
                <option value = "both">Both</option>
            </select>
            <label for="xpos">X-position:</label>
            <input type="number" name="xpos" id="text-size" min=0 max=1200>px
            <label for="ypos">Y-position:</label>
            <input type="number" name="ypos" id="text-size" min=0 max=1200>px
            <button type="submit">Add Text</button>
        </form>
    </div>

    <script type='text/javascript' src="https://code.jquery.com/jquery-3.2.1.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
    <script src='scripts/spectrum.js'></script>

    <link rel='stylesheet' href='css/spectrum.css' />
    <script type='text/javascript' src="scripts/canvas-common.js"></script>
    <script type='text/javascript' src="scripts/drawing-line.js"></script>
    <script type='text/javascript' src="scripts/drawing-ellipse.js"></script>
    <script type='text/javascript' src="scripts/drawing-rectangle.js"></script>
    <script type='text/javascript' src="scripts/drawing-strokerectangle.js"></script>
    <script type='text/javascript' src="scripts/drawing-straight-line.js"></script>
    <script type='text/javascript' src="scripts/add-text.js"></script>
    <script type='text/javascript' src="scripts/eraser.js"></script>
    <script type='text/javascript' src="scripts/colorspectrum.js"></script>

    <link href="css/style.css" rel="stylesheet" type='text/css'>

    <script type='text/javascript'>
        $('#drawing-rectangle').click(() => {
            currentFunction = new DrawingRectangle(contextReal, contextDraft);
        });
        $('#drawing-line').click(() => {
            currentFunction = new DrawingLine(contextReal, contextDraft);
        });
        $('#drawing-ellipse').click(() => {
            currentFunction = new DrawingEllipse(contextReal, contextDraft);
        });
        $('#drawing-strokerectangle').click(() => {
            currentFunction = new DrawingStrokeRectangle(contextReal, contextDraft);
        });
        $('#drawing-straight-line').click(() => {
            currentFunction = new DrawingStraightLine(contextReal, contextDraft);
        });
        $('#eraser').click(function () {
            currentFunction = new Eraser(contextReal, contextDraft);
        });
        $('#clear').click(function () {
            contextDraft.clearRect(0, 0, canvasDraft.width, canvasDraft.height);
            contextReal.clearRect(0, 0, canvasReal.width, canvasReal.height);
        });
        $("#text-panel").hide();
        $("#text-tool").click(function(){
            $("#text-panel").toggle();
        });
        $('#add-text').submit(function(e){
            e.preventDefault();

            let text = e.target.text.value;
            let size = e.target.size.value;
            let fillOrStroke = e.target.fillOrStroke.value;
            let fontFamily = e.target.fontFamily.value;
            let style = e.target.style.value;
            let xpos = e.target.xpos.value;
            let ypos = e.target.ypos.value;

            currentFunction = new AddText(contextReal);
            currentFunction.addText(contextReal,text,fillOrStroke,fontFamily,size,style,xpos,ypos);
        });  
        currentFunction = new DrawingLine(contextReal, contextDraft);
    </script>
</body>

</html>
